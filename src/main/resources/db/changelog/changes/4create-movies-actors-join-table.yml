databaseChangeLog:
  - changeSet:
     id: create-movies-actors-join-table
     author: shymYevh
     changes:
      - createTable:
          tableName: movies_actors
          columns:
            - column:
                name: movie_id
                type: bigint
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: actor_id
                type: bigint
                constraints:
                  primaryKey: true
                  nullable: false
      - addForeignKeyConstraint:
          baseTableName: movies_actors
          baseColumnNames:
            - movie_id
          constraintName: fk_movies_actors_movies
          referencedTableName: movies
          referencedColumnNames:
            - id
          onDelete: CASCADE
          onUpdate: CASCADE
      - addForeignKeyConstraint:
          baseTableName: movies_actors
          baseColumnNames:
            - actor_id
          constraintName: fk_movies_actors_actors
          referencedTableName: actors
          referencedColumnNames:
            - id
          onDelete: CASCADE
          onUpdate: CASCADE
